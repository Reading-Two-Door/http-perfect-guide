## 공부 내용

- 두 가지 국제화 주요 이슈 - 문자집합 인코딩, 언어 태그

  - 여러 언어의 문자로 텍스트를 보여주고 요청하기 위해 문자집합 인코딩을 사용한다.
  - 사용자가 이해할 수 있는 언어만으로 콘텐츠를 서술하기 위해 언어 태그를 사용한다.

- HTTP 메시지는 어떤 언어로 된 콘텐츠든 실어 나를 수 있다.
- 국제 콘텐츠 지원을 위해, 서버는 클라이언트에게 각 문서의 문자와 언어를 알려줘서, 클라이언트가 올바르게 문서를 이루고 있는 비트들을 문자들로 풀어내고, 올바르게 처리해서 사용자에게 콘텐츠를 제공해줄 수 있도록 할 필요가 있다.
- 서버는 문서의 문자와 언어를 Content-Type charset 매개변수와 Content-Language 헤더를 통해 알려준다. 이 헤더들은 엔터티 본문에 무엇이 들어있는지, 어떻게 콘텐츠를 화면에 출력될 올바른 글자들로 바꾸는지, 그 텍스트가 어떤 언어에 해당하는지 서술한다.
- 클라이언트는 서버에게 어떤 언어를 이해할 수 있고 어떤 알파벳의 코딩 알고리즘이 브라우저에 설치되어 있는지 알려주기 위해 Accept-Charset과 Accept-Language 헤더를 보낸다.

### 문자집합과 HTTP

- 웹 문자집합 표준은 복잡하고 일관성 없는 전문용어, 익숙하지 않은 외국어 등의 이유로 혼란스럽다.
- Charset은 어떻게 엔터티 콘텐츠 비트들을 특정 문자 쳬게의 글자들로 바꾸는지 말해준다. Charset 태그는 등록된 MIME 문자집합에 표준화되어 있다.
- UTF-8 등은 글자 당 비트 수가 일정하지 않아 더 복잡한 가변길이 코드다. 이러한 종류의 코딩은 많은 글자로 이루어진 문자체계를 지원하기 위해 추가적인 비트를 사용할 수 있게 해준다.
- 국제화된 문자 시스템의 목표는 시각적인 표현 방식에서 의미를 분리하는 것이다. HTTP는 문자 데이터 및 그와 관련된 언어와 차셋 라벨의 전송에만 관심을 갖는다. 시각적 표현은 사용자의 그래픽 디스플레이 소프트웨어(브라우저, 운영체제, 글꼴)이 결정한다.
- 잘못된 Charset 매개변수를 사용한다면, 클라이언트는 이상한 깨진 글자를 보여주게 될 것이다.
- MIME Charset - 특정 문자 인코딩과 특정 코딩된 문자집합의 결합
- HTTP는 표준화된 MIME Charset 태그를 Content-Type과 Accept-Charset 헤더에 사용한다.
- 서버가 클라이언트에게 문자집합을 명시적으로 나열하지 않으면, 클라이언트는 문서의 콘텐츠로부터 문자집합을 추측하려 시도한다. HTML 콘텐츠에서 문자 집합은 <META HTTP-EQUIV="Content-Type> 태그에서 찾을 수 있다.
- 만약 HTML이 아니거나 해당 태그가 없는 경우 실제 텍스트를 스캐닝하여 문자 인코딩을 추측한다. 추측에 실패한다면 iso-8859-1인 것으로 가정한다.
- 클라이언트는 Accept-Charset 헤더의 값은 클라이언트가 지원하는 문자 인코딩의 목록을 제공한다. 해당 목록 중 어떤 것으로 콘텐츠를 반환할지는 서버의 자유다.
- Accept-Charset 요청 헤더에 대응하는 Content-Charset 응답 헤더는 존재하지 않는다.

### 다중언어 문자 인코딩에 대한 지침

- 전자 문자 체계 용어

  - 문자 - 글자,숫자 등 글쓰기의 최소 단위
    - 쓰기의 기본적인 구성요소
    - 글꼴이나 스타일에 독립적 (같은 글자라도 그 글자가 단어에서 어디에 위치하느냐에 따라 각각 다른 모양을 갖는다.)
  - 글리프 - 하나의 글자를 표현하기 위한, 획의 패턴이나 다른것과 구분되는 유일한 시각적 형태
    - 각 글자를 그리는 특정한 방법
    - 각 문자는 미적인 양식과 스크립트에 따라 여러 가지 글리프를 가진다.
    - 글리프 하나를 다른 것으로 변경했을 때, 텍스트의 의미가 바뀐다면 두 글리프는 서로 다른 글자다. 의미가 동일하다면 모양만 다를 뿐 같은 글자다.
  - coded character - 글자를 다룰 수 있도록 각 글자에 할당된 유일한 숫자
  - coding space - 문자 코드 값으로 사용하려고 계획해 둔 정수의 범위
  - code width - 각 문자 코드의 비트 개수
  - character repertoire - 글자들에 대한 특정한 작업 집합
  - coded character set - 실제 글자들에 숫자로 된 문자 코드를 대응시킨 것
    - 코딩 된 문자집합은 보통 코드 번호로 인덱싱된 배열로 구현되며 배열의 원소들은 문자들이다.
  - 문자 인코딩 구조 - 숫자로 된 문자 코드들을 콘텐츠 비트의 연속으로 인코딩하는 알고리즘
    - 고정폭 - 코딩된 문자를 고정된 길이의 비트로 표현, 빠르게 처리될 수 있지만 공간을 낭비할 우려가 있다.
    - 가변폭(비모달) - 다른 문자 코드 번호에 다른 길이의 비트를 사용한다. 자주 사용하는 글자의 비트 길이를 줄일 수 있고, 국제 문자에 대해서는 여러 바이트를 사용하도록 함으로써 이전의 8비트 문자집합과의 호환성도 유지할 수 있다.
    - 가변폭(모달) - 모달 인코딩은 다른 모드로의 전환을 위해 escape 패턴을 사용한다.

- 엄밀히 말해 MIME Charset은 문자집합을 의마하는 것이 아니다. MIME Charset은 데이터 비트를 고유한 문자의 코드로 매핑하는 알고리즘이다.

### 언어 태그와 HTTP

- 언어 태그 - 언어에 이름을 붙이기 위한 짧고 표준화된 문자열
- Content-Language - 엔터티가 어떤 언어 사용자를 대상으로 하고 있는지 서술한다. 어떤 종류의 미디어라도 서술 가능하며 콘텐츠가 여러 언어 사용자를 대상으로 하고 있다면, 여러 언어를 나열할 수 있다.
- 단지 여러 언어가 하나의 엔터티에 동시에 사용되었다 해서 반드시 여러 언어 사용자들을 대상으로 하고 있음을 의미하는 것은 아니다.
- Accept-Language - 클라이언트가 자신이 이해할 수 있는 콘텐츠를 요청하기 위해 사용

#### 언어 태그의 종류

- 일반적인 언어의 종류
- 특정 국가의 언어
- 방언
- 지방어
- 그 외의, 다른 언어의 변형이 아닌 표준 언어
- 비표준 언어

#### 서브태그

- 언어 태그는 하이픈으로 분리된 하나 이상의 서브태그로 이루어짐
- 모든 태그는 대소문자가 구분 되지 않으나 언어를 나타낼 때는 소문자, 국가를 나타낼 때는 대문자를 사용한다.
- 첫 번째 서브태그는 주 서브태그로 값들이 표준화 되어있음
- 두 번째 서브태그는 선택적이고 자신만의 이름 표준을 따름
- 세 번째 이후 서브태그는 등록되어 있지 않고 8자 이하의 알파벳과 숫자로 이루어져야 한다.
- 웹 브라우저 프로필에서 선호 언어를 설정할 수 있다.

### 국제화된 URI

- URI 저자들은 리소스 식별자의 가독성과 공유 가능성의 보장이, 대부분의 의미 있는 문자들로 구성될 수 있도록 하는 것보다 중요하다고 여겼다. 그래서 오늘날 ASCII문자들의 제한된 집합으로 이루어진 URI를 갖게 되었다.
- 예약된 문자들은 많은 URI에서 특별한 의미를 가지며, 따라서 일반적으로 사용될 수 없다.
- URI 이스케이프는 예약된 문자나 다른 지원하지 않는 글자들을 안전하게 URI에 삽입할 수 있는 방법을 제공한다.
- 내부적으로 HTTP 애플리케이션은 URI를 데이터가 필요할 때만 언이스케이핑 해야하며, 어떤 URI도 결코 두 번 언이스케이핑 되지 않도록 해야 한다.
- 이스케이프 값들은 US-ASCII 코드의 범위에 있어야한다.

### 기타 고려사항

- HTTP 헤더는 반드시 US-ASCII 문자집합의 글자들로만 이루어져야 한다.
- HTTP 명세는 올바른 GMT 날짜 형식을 정의하고 있지만 모든 웹 서버와 클라이언트가 규칙을 따르고 있지는 않다.
- 대부분의 웹브라우저가 퓨니코드를 이용해 국제화 도메인 이름을 지원한다.
  - 퓨니코드 - 유니코드 문자열을 호스트 명에서 사용 가능한 문자만으로 이루어진 문자열로 변환하는 방법

## 알게된 점

## 궁금한 점

- 문자 인코딩 구조 가변폭에 비모달, 모달에서의 모달은 무엇을 의미하는가?
